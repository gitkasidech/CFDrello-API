{"version":3,"sources":["../../src/test/actions.test.js"],"names":["jest","mock","mockActions","actions","id","idMemberCreator","data","list","name","board","shortLink","card","idShort","pos","old","type","date","dateString","test","send","actionsNew","undefined","receive","callRec","getCreate","expect","length","toEqual","getUpdate","listAfter","listBefore","idList","rec","toBe"],"mappings":"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","file":"actions.test.js","sourcesContent":["jest.mock('../models', () => { })\r\nimport mongoose from 'mongoose'\r\nimport MockActions from 'actions'\r\nimport { createnewActions } from '../controller/actions'\r\n\r\nconst mockActions = new MockActions()\r\nconst actions = {\r\n    id: \"123a\",\r\n    idMemberCreator: \"aa11\",\r\n    data: {\r\n        list: {\r\n          name: \"Done\",\r\n          id: \"58dba95aa3fca404ad62476c\"\r\n        },\r\n        board: {\r\n          shortLink: \"d2EnEWSY\",\r\n          name: \"Best Test Board!\",\r\n          id: \"586e8f681d4fe9b06a928307\"\r\n        },\r\n        card: {\r\n          shortLink: \"HKaaH2Pk\",\r\n          idShort: 94,\r\n          name: \"Design New System\",\r\n          id: \"5939a829eba57d109331a289\",\r\n          pos: 229375\r\n        },\r\n        old: {\r\n          pos: 163839.5\r\n        }\r\n      },\r\n    type: \"updateCard\",\r\n    date: \"2017-06-08T14:40:27.915Z\",\r\n    dateString: \"2017-06-08-4\"\r\n}\r\n\r\ntest('new actions', async () => {\r\n    const send = {\r\n        id: \"123a\",\r\n        idMemberCreator: \"aa11\",\r\n        data: {\r\n            list: {\r\n              name: \"Done\",\r\n              id: \"58dba95aa3fca404ad62476c\"\r\n            },\r\n            board: {\r\n              shortLink: \"d2EnEWSY\",\r\n              name: \"Best Test Board!\",\r\n              id: \"586e8f681d4fe9b06a928307\"\r\n            },\r\n            card: {\r\n              shortLink: \"HKaaH2Pk\",\r\n              idShort: 94,\r\n              name: \"Design New System\",\r\n              id: \"5939a829eba57d109331a289\",\r\n              pos: 229375\r\n            },\r\n            old: {\r\n              pos: 163839.5\r\n            }\r\n          },\r\n        type: \"updateCard\",\r\n        date: \"2017-06-08T14:40:27.915Z\",\r\n        dateString: \"2017-06-08-4\"\r\n    }\r\n    const actionsNew = undefined\r\n    const receive = await createnewActions(mockActions,actionsNew, send)\r\n    const callRec = mockActions.getCreate()\r\n    expect(callRec.length).toEqual(1)\r\n});\r\n\r\ntest('update idMemberCreator', async() => {\r\n    const send = {\r\n        id: \"123a\",\r\n        idMemberCreator: \"bb22\",\r\n        data: {\r\n            list: {\r\n              name: \"Done\",\r\n              id: \"58dba95aa3fca404ad62476c\"\r\n            },\r\n            board: {\r\n              shortLink: \"d2EnEWSY\",\r\n              name: \"Best Test Board!\",\r\n              id: \"586e8f681d4fe9b06a928307\"\r\n            },\r\n            card: {\r\n              shortLink: \"HKaaH2Pk\",\r\n              idShort: 94,\r\n              name: \"Design New System\",\r\n              id: \"5939a829eba57d109331a289\",\r\n              pos: 229375\r\n            },\r\n            old: {\r\n              pos: 163839.5\r\n            }\r\n          },\r\n        type: \"updateCard\",\r\n        date: \"2017-06-08T14:40:27.915Z\",\r\n        dateString: \"2017-06-08-4\"\r\n    }\r\n    const receive = await createnewActions(mockActions,actions, send)\r\n    const callRec = mockActions.getUpdate()\r\n    expect(callRec[0]).toEqual(send)\r\n})\r\n\r\ntest('update data', async() => {\r\n    const send = {\r\n        id: \"123a\",\r\n        idMemberCreator: \"aa11\",\r\n        data: {\r\n            listAfter: {\r\n              name: \"Done\",\r\n              id: \"58dba95aa3fca404ad62476c\"\r\n            },\r\n            listBefore: {\r\n              name: \"Doing\",\r\n              id: \"58d4144e4ec5c792a898d4b4\"\r\n            },\r\n            board: {\r\n              shortLink: \"d2EnEWSY\",\r\n              name: \"Best Test Board!\",\r\n              id: \"586e8f681d4fe9b06a928307\"\r\n            },\r\n            card: {\r\n              shortLink: \"HKaaH2Pk\",\r\n              idShort: 94,\r\n              name: \"Design New System\",\r\n              id: \"5939a829eba57d109331a289\",\r\n              idList: \"58dba95aa3fca404ad62476c\"\r\n            },\r\n            old: {\r\n              idList: \"58d4144e4ec5c792a898d4b4\"\r\n            }\r\n          },\r\n        type: \"updateCard\",\r\n        date: \"2017-06-08T14:40:27.915Z\",\r\n        dateString: \"2017-06-08-4\"\r\n    }\r\n    const receive = await createnewActions(mockActions,actions, send)\r\n    const callRec = mockActions.getUpdate()\r\n    expect(callRec[0]).toEqual(send)\r\n})\r\n\r\ntest('update type', async() => {\r\n    const send = {\r\n        id: \"123a\",\r\n        idMemberCreator: \"aa11\",\r\n        data: {\r\n            list: {\r\n              name: \"Done\",\r\n              id: \"58dba95aa3fca404ad62476c\"\r\n            },\r\n            board: {\r\n              shortLink: \"d2EnEWSY\",\r\n              name: \"Best Test Board!\",\r\n              id: \"586e8f681d4fe9b06a928307\"\r\n            },\r\n            card: {\r\n              shortLink: \"HKaaH2Pk\",\r\n              idShort: 94,\r\n              name: \"Design New System\",\r\n              id: \"5939a829eba57d109331a289\",\r\n              pos: 229375\r\n            },\r\n            old: {\r\n              pos: 163839.5\r\n            }\r\n          },\r\n        type: \"createCard\",\r\n        date: \"2017-06-08T14:40:27.915Z\",\r\n        dateString: \"2017-06-08-4\"\r\n    }\r\n    const receive = await createnewActions(mockActions,actions, send)\r\n    const callRec = mockActions.getUpdate()\r\n    expect(callRec[0]).toEqual(send)\r\n})\r\n\r\ntest('update date', async() => {\r\n    const send = {\r\n        id: \"123a\",\r\n        idMemberCreator: \"aa11\",\r\n        data: {\r\n            list: {\r\n              name: \"Done\",\r\n              id: \"58dba95aa3fca404ad62476c\"\r\n            },\r\n            board: {\r\n              shortLink: \"d2EnEWSY\",\r\n              name: \"Best Test Board!\",\r\n              id: \"586e8f681d4fe9b06a928307\"\r\n            },\r\n            card: {\r\n              shortLink: \"HKaaH2Pk\",\r\n              idShort: 94,\r\n              name: \"Design New System\",\r\n              id: \"5939a829eba57d109331a289\",\r\n              pos: 229375\r\n            },\r\n            old: {\r\n              pos: 163839.5\r\n            }\r\n          },\r\n        type: \"updateCard\",\r\n        date: \"2017-06-07T14:40:27.915Z\",\r\n        dateString: \"2017-06-07-3\"\r\n    }\r\n    const receive = await createnewActions(mockActions,actions, send)\r\n    const callRec = mockActions.getUpdate()\r\n    expect(callRec[0]).toEqual(send)\r\n})\r\n\r\ntest('update all', async() => {\r\n    const send = {\r\n        id: \"123a\",\r\n        idMemberCreator: \"bb22\",\r\n        data: {\r\n            listAfter: {\r\n              name: \"Done\",\r\n              id: \"58dba95aa3fca404ad62476c\"\r\n            },\r\n            listBefore: {\r\n              name: \"Doing\",\r\n              id: \"58d4144e4ec5c792a898d4b4\"\r\n            },\r\n            board: {\r\n              shortLink: \"d2EnEWSY\",\r\n              name: \"Best Test Board!\",\r\n              id: \"586e8f681d4fe9b06a928307\"\r\n            },\r\n            card: {\r\n              shortLink: \"HKaaH2Pk\",\r\n              idShort: 94,\r\n              name: \"Design New System\",\r\n              id: \"5939a829eba57d109331a289\",\r\n              idList: \"58dba95aa3fca404ad62476c\"\r\n            },\r\n            old: {\r\n              idList: \"58d4144e4ec5c792a898d4b4\"\r\n            }\r\n          },\r\n        type: \"addCard\",\r\n        date: \"2017-06-07T14:40:27.915Z\",\r\n        dateString: \"2017-06-07-3\"\r\n    }\r\n    const receive = await createnewActions(mockActions,actions, send)\r\n    const callRec = mockActions.getUpdate()\r\n    expect(callRec[0]).toEqual(send)\r\n})\r\n\r\ntest('have actions already', async() => {\r\n    const send = {\r\n        id: \"123a\",\r\n        idMemberCreator: \"aa11\",\r\n        data: {\r\n            list: {\r\n              name: \"Done\",\r\n              id: \"58dba95aa3fca404ad62476c\"\r\n            },\r\n            board: {\r\n              shortLink: \"d2EnEWSY\",\r\n              name: \"Best Test Board!\",\r\n              id: \"586e8f681d4fe9b06a928307\"\r\n            },\r\n            card: {\r\n              shortLink: \"HKaaH2Pk\",\r\n              idShort: 94,\r\n              name: \"Design New System\",\r\n              id: \"5939a829eba57d109331a289\",\r\n              pos: 229375\r\n            },\r\n            old: {\r\n              pos: 163839.5\r\n            }\r\n          },\r\n        type: \"updateCard\",\r\n        date: \"2017-06-08T14:40:27.915Z\",\r\n        dateString: \"2017-06-08-4\"\r\n    }\r\n    const rec = await createnewActions(mockActions,actions, send)\r\n    expect(rec).toBe(false)\r\n})\r\n\r\n"]}