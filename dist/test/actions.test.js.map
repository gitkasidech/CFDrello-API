{"version":3,"sources":["../../src/test/actions.test.js"],"names":["jest","mock","mockActions","actions","id","idMemberCreator","memberCreator","avatarHash","fullName","initials","username","data","list","name","board","shortLink","card","idShort","pos","old","type","date","dateString","test","send","actionsNew","undefined","receive","callRec","getCreate","expect","length","toEqual","getUpdate","listAfter","listBefore","idList","rec","toBe"],"mappings":";;;;;;;;;;AACA;;;;AACA;;;;AACA;;;;AAHAA,KAAKC,IAAL,CAAU,WAAV,EAAuB,YAAM,CAAG,CAAhC;;;AAKA,IAAMC,cAAc,uBAApB;AACA,IAAMC,UAAU;AACZC,MAAI,MADQ;AAEZC,mBAAiB,MAFL;AAGZC,iBAAe;AACbF,QAAI,MADS;AAEbG,gBAAY,IAFC;AAGbC,cAAU,eAHG;AAIbC,cAAU,IAJG;AAKbC,cAAU;AALG,GAHH;AAUZC,QAAM;AACFC,UAAM;AACJC,YAAM,MADF;AAEJT,UAAI;AAFA,KADJ;AAKFU,WAAO;AACLC,iBAAW,UADN;AAELF,YAAM,kBAFD;AAGLT,UAAI;AAHC,KALL;AAUFY,UAAM;AACJD,iBAAW,UADP;AAEJE,eAAS,EAFL;AAGJJ,YAAM,mBAHF;AAIJT,UAAI,0BAJA;AAKJc,WAAK;AALD,KAVJ;AAiBFC,SAAK;AACHD,WAAK;AADF;AAjBH,GAVM;AA+BZE,QAAM,YA/BM;AAgCZC,QAAM,0BAhCM;AAiCZC,cAAY;AAjCA,CAAhB;;AAoCAC,KAAK,aAAL,6DAAoB;AAAA;AAAA;AAAA;AAAA;AAAA;AACVC,cADU,GACH;AACTpB,gBAAI,MADK;AAETC,6BAAiB,MAFR;AAGTC,2BAAe;AACbF,kBAAI,MADS;AAEbG,0BAAY,IAFC;AAGbC,wBAAU,eAHG;AAIbC,wBAAU,IAJG;AAKbC,wBAAU;AALG,aAHN;AAUTC,kBAAM;AACFC,oBAAM;AACJC,sBAAM,MADF;AAEJT,oBAAI;AAFA,eADJ;AAKFU,qBAAO;AACLC,2BAAW,UADN;AAELF,sBAAM,kBAFD;AAGLT,oBAAI;AAHC,eALL;AAUFY,oBAAM;AACJD,2BAAW,UADP;AAEJE,yBAAS,EAFL;AAGJJ,sBAAM,mBAHF;AAIJT,oBAAI,0BAJA;AAKJc,qBAAK;AALD,eAVJ;AAiBFC,mBAAK;AACHD,qBAAK;AADF;AAjBH,aAVG;AA+BTE,kBAAM,YA/BG;AAgCTC,kBAAM,0BAhCG;AAiCTC,wBAAY;AAjCH,WADG;AAoCVG,oBApCU,GAoCGC,SApCH;AAAA;AAAA,iBAqCM,gCAAiBxB,WAAjB,EAA6BuB,UAA7B,EAAyCD,IAAzC,CArCN;;AAAA;AAqCVG,iBArCU;AAsCVC,iBAtCU,GAsCA1B,YAAY2B,SAAZ,EAtCA;;AAuChBC,iBAAOF,QAAQG,MAAf,EAAuBC,OAAvB,CAA+B,CAA/B;;AAvCgB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,CAApB;;AA0CAT,KAAK,0CAAL,6DAAiD;AAAA;AAAA;AAAA;AAAA;AAAA;AACvCC,cADuC,GAChC;AACTpB,gBAAI,MADK;AAETC,6BAAiB,MAFR;AAGTC,2BAAe;AACbF,kBAAI,MADS;AAEbG,0BAAY,IAFC;AAGbC,wBAAU,eAHG;AAIbC,wBAAU,IAJG;AAKbC,wBAAU;AALG,aAHN;AAUTC,kBAAM;AACFC,oBAAM;AACJC,sBAAM,MADF;AAEJT,oBAAI;AAFA,eADJ;AAKFU,qBAAO;AACLC,2BAAW,UADN;AAELF,sBAAM,kBAFD;AAGLT,oBAAI;AAHC,eALL;AAUFY,oBAAM;AACJD,2BAAW,UADP;AAEJE,yBAAS,EAFL;AAGJJ,sBAAM,mBAHF;AAIJT,oBAAI,0BAJA;AAKJc,qBAAK;AALD,eAVJ;AAiBFC,mBAAK;AACHD,qBAAK;AADF;AAjBH,aAVG;AA+BTE,kBAAM,YA/BG;AAgCTC,kBAAM,0BAhCG;AAiCTC,wBAAY;AAjCH,WADgC;AAAA;AAAA,iBAoCvB,gCAAiBpB,WAAjB,EAA6BC,OAA7B,EAAsCqB,IAAtC,CApCuB;;AAAA;AAoCvCG,iBApCuC;AAqCvCC,iBArCuC,GAqC7B1B,YAAY+B,SAAZ,EArC6B;;AAsC7CH,iBAAOF,QAAQ,CAAR,CAAP,EAAmBI,OAAnB,CAA2BR,IAA3B;;AAtC6C;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,CAAjD;;AAyCAD,KAAK,aAAL,6DAAoB;AAAA;AAAA;AAAA;AAAA;AAAA;AACVC,cADU,GACH;AACTpB,gBAAI,MADK;AAETC,6BAAiB,MAFR;AAGTC,2BAAe;AACbF,kBAAI,MADS;AAEbG,0BAAY,IAFC;AAGbC,wBAAU,eAHG;AAIbC,wBAAU,IAJG;AAKbC,wBAAU;AALG,aAHN;AAUTC,kBAAM;AACFuB,yBAAW;AACTrB,sBAAM,MADG;AAETT,oBAAI;AAFK,eADT;AAKF+B,0BAAY;AACVtB,sBAAM,OADI;AAEVT,oBAAI;AAFM,eALV;AASFU,qBAAO;AACLC,2BAAW,UADN;AAELF,sBAAM,kBAFD;AAGLT,oBAAI;AAHC,eATL;AAcFY,oBAAM;AACJD,2BAAW,UADP;AAEJE,yBAAS,EAFL;AAGJJ,sBAAM,mBAHF;AAIJT,oBAAI,0BAJA;AAKJgC,wBAAQ;AALJ,eAdJ;AAqBFjB,mBAAK;AACHiB,wBAAQ;AADL;AArBH,aAVG;AAmCThB,kBAAM,YAnCG;AAoCTC,kBAAM,0BApCG;AAqCTC,wBAAY;AArCH,WADG;AAAA;AAAA,iBAwCM,gCAAiBpB,WAAjB,EAA6BC,OAA7B,EAAsCqB,IAAtC,CAxCN;;AAAA;AAwCVG,iBAxCU;AAyCVC,iBAzCU,GAyCA1B,YAAY+B,SAAZ,EAzCA;;AA0ChBH,iBAAOF,QAAQ,CAAR,CAAP,EAAmBI,OAAnB,CAA2BR,IAA3B;;AA1CgB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,CAApB;;AA6CAD,KAAK,aAAL,6DAAoB;AAAA;AAAA;AAAA;AAAA;AAAA;AACVC,cADU,GACH;AACTpB,gBAAI,MADK;AAETC,6BAAiB,MAFR;AAGTC,2BAAe;AACbF,kBAAI,MADS;AAEbG,0BAAY,IAFC;AAGbC,wBAAU,eAHG;AAIbC,wBAAU,IAJG;AAKbC,wBAAU;AALG,aAHN;AAUTC,kBAAM;AACFC,oBAAM;AACJC,sBAAM,MADF;AAEJT,oBAAI;AAFA,eADJ;AAKFU,qBAAO;AACLC,2BAAW,UADN;AAELF,sBAAM,kBAFD;AAGLT,oBAAI;AAHC,eALL;AAUFY,oBAAM;AACJD,2BAAW,UADP;AAEJE,yBAAS,EAFL;AAGJJ,sBAAM,mBAHF;AAIJT,oBAAI,0BAJA;AAKJc,qBAAK;AALD,eAVJ;AAiBFC,mBAAK;AACHD,qBAAK;AADF;AAjBH,aAVG;AA+BTE,kBAAM,YA/BG;AAgCTC,kBAAM,0BAhCG;AAiCTC,wBAAY;AAjCH,WADG;AAAA;AAAA,iBAoCM,gCAAiBpB,WAAjB,EAA6BC,OAA7B,EAAsCqB,IAAtC,CApCN;;AAAA;AAoCVG,iBApCU;AAqCVC,iBArCU,GAqCA1B,YAAY+B,SAAZ,EArCA;;AAsChBH,iBAAOF,QAAQ,CAAR,CAAP,EAAmBI,OAAnB,CAA2BR,IAA3B;;AAtCgB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,CAApB;;AAyCAD,KAAK,aAAL,6DAAoB;AAAA;AAAA;AAAA;AAAA;AAAA;AACVC,cADU,GACH;AACTpB,gBAAI,MADK;AAETC,6BAAiB,MAFR;AAGTC,2BAAe;AACbF,kBAAI,MADS;AAEbG,0BAAY,IAFC;AAGbC,wBAAU,eAHG;AAIbC,wBAAU,IAJG;AAKbC,wBAAU;AALG,aAHN;AAUTC,kBAAM;AACFC,oBAAM;AACJC,sBAAM,MADF;AAEJT,oBAAI;AAFA,eADJ;AAKFU,qBAAO;AACLC,2BAAW,UADN;AAELF,sBAAM,kBAFD;AAGLT,oBAAI;AAHC,eALL;AAUFY,oBAAM;AACJD,2BAAW,UADP;AAEJE,yBAAS,EAFL;AAGJJ,sBAAM,mBAHF;AAIJT,oBAAI,0BAJA;AAKJc,qBAAK;AALD,eAVJ;AAiBFC,mBAAK;AACHD,qBAAK;AADF;AAjBH,aAVG;AA+BTE,kBAAM,YA/BG;AAgCTC,kBAAM,0BAhCG;AAiCTC,wBAAY;AAjCH,WADG;AAAA;AAAA,iBAoCM,gCAAiBpB,WAAjB,EAA6BC,OAA7B,EAAsCqB,IAAtC,CApCN;;AAAA;AAoCVG,iBApCU;AAqCVC,iBArCU,GAqCA1B,YAAY+B,SAAZ,EArCA;;AAsChBH,iBAAOF,QAAQ,CAAR,CAAP,EAAmBI,OAAnB,CAA2BR,IAA3B;;AAtCgB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,CAApB;;AAyCAD,KAAK,YAAL,6DAAmB;AAAA;AAAA;AAAA;AAAA;AAAA;AACTC,cADS,GACF;AACTpB,gBAAI,MADK;AAETC,6BAAiB,MAFR;AAGTC,2BAAe;AACbF,kBAAI,MADS;AAEbG,0BAAY,IAFC;AAGbC,wBAAU,eAHG;AAIbC,wBAAU,IAJG;AAKbC,wBAAU;AALG,aAHN;AAUTC,kBAAM;AACFuB,yBAAW;AACTrB,sBAAM,MADG;AAETT,oBAAI;AAFK,eADT;AAKF+B,0BAAY;AACVtB,sBAAM,OADI;AAEVT,oBAAI;AAFM,eALV;AASFU,qBAAO;AACLC,2BAAW,UADN;AAELF,sBAAM,kBAFD;AAGLT,oBAAI;AAHC,eATL;AAcFY,oBAAM;AACJD,2BAAW,UADP;AAEJE,yBAAS,EAFL;AAGJJ,sBAAM,mBAHF;AAIJT,oBAAI,0BAJA;AAKJgC,wBAAQ;AALJ,eAdJ;AAqBFjB,mBAAK;AACHiB,wBAAQ;AADL;AArBH,aAVG;AAmCThB,kBAAM,SAnCG;AAoCTC,kBAAM,0BApCG;AAqCTC,wBAAY;AArCH,WADE;AAAA;AAAA,iBAwCO,gCAAiBpB,WAAjB,EAA6BC,OAA7B,EAAsCqB,IAAtC,CAxCP;;AAAA;AAwCTG,iBAxCS;AAyCTC,iBAzCS,GAyCC1B,YAAY+B,SAAZ,EAzCD;;AA0CfH,iBAAOF,QAAQ,CAAR,CAAP,EAAmBI,OAAnB,CAA2BR,IAA3B;;AA1Ce;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,CAAnB;;AA6CAD,KAAK,sBAAL,6DAA6B;AAAA;AAAA;AAAA;AAAA;AAAA;AACnBC,cADmB,GACZ;AACTpB,gBAAI,MADK;AAETC,6BAAiB,MAFR;AAGTC,2BAAe;AACbF,kBAAI,MADS;AAEbG,0BAAY,IAFC;AAGbC,wBAAU,eAHG;AAIbC,wBAAU,IAJG;AAKbC,wBAAU;AALG,aAHN;AAUTC,kBAAM;AACFC,oBAAM;AACJC,sBAAM,MADF;AAEJT,oBAAI;AAFA,eADJ;AAKFU,qBAAO;AACLC,2BAAW,UADN;AAELF,sBAAM,kBAFD;AAGLT,oBAAI;AAHC,eALL;AAUFY,oBAAM;AACJD,2BAAW,UADP;AAEJE,yBAAS,EAFL;AAGJJ,sBAAM,mBAHF;AAIJT,oBAAI,0BAJA;AAKJc,qBAAK;AALD,eAVJ;AAiBFC,mBAAK;AACHD,qBAAK;AADF;AAjBH,aAVG;AA+BTE,kBAAM,YA/BG;AAgCTC,kBAAM,0BAhCG;AAiCTC,wBAAY;AAjCH,WADY;AAAA;AAAA,iBAoCP,gCAAiBpB,WAAjB,EAA6BC,OAA7B,EAAsCqB,IAAtC,CApCO;;AAAA;AAoCnBa,aApCmB;;AAqCzBP,iBAAOO,GAAP,EAAYC,IAAZ,CAAiB,KAAjB;;AArCyB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,CAA7B","file":"actions.test.js","sourcesContent":["jest.mock('../models', () => { })\nimport mongoose from 'mongoose'\nimport MockActions from 'actions'\nimport { createnewActions } from '../controller/actions'\n\nconst mockActions = new MockActions()\nconst actions = {\n    id: \"123a\",\n    idMemberCreator: \"aa11\",\n    memberCreator: {\n      id: \"aa11\",\n      avatarHash: \"a1\",\n      fullName: \"Brian Cervino\",\n      initials: \"BC\",\n      username: \"brian\"\n    },\n    data: {\n        list: {\n          name: \"Done\",\n          id: \"58dba95aa3fca404ad62476c\"\n        },\n        board: {\n          shortLink: \"d2EnEWSY\",\n          name: \"Best Test Board!\",\n          id: \"586e8f681d4fe9b06a928307\"\n        },\n        card: {\n          shortLink: \"HKaaH2Pk\",\n          idShort: 94,\n          name: \"Design New System\",\n          id: \"5939a829eba57d109331a289\",\n          pos: 229375\n        },\n        old: {\n          pos: 163839.5\n        }\n      },\n    type: \"updateCard\",\n    date: \"2017-06-08T14:40:27.915Z\",\n    dateString: \"2017-06-08-4\"\n}\n\ntest('new actions', async () => {\n    const send = {\n        id: \"123a\",\n        idMemberCreator: \"aa11\",\n        memberCreator: {\n          id: \"aa11\",\n          avatarHash: \"a1\",\n          fullName: \"Brian Cervino\",\n          initials: \"BC\",\n          username: \"brian\"\n        },\n        data: {\n            list: {\n              name: \"Done\",\n              id: \"58dba95aa3fca404ad62476c\"\n            },\n            board: {\n              shortLink: \"d2EnEWSY\",\n              name: \"Best Test Board!\",\n              id: \"586e8f681d4fe9b06a928307\"\n            },\n            card: {\n              shortLink: \"HKaaH2Pk\",\n              idShort: 94,\n              name: \"Design New System\",\n              id: \"5939a829eba57d109331a289\",\n              pos: 229375\n            },\n            old: {\n              pos: 163839.5\n            }\n          },\n        type: \"updateCard\",\n        date: \"2017-06-08T14:40:27.915Z\",\n        dateString: \"2017-06-08-4\"\n    }\n    const actionsNew = undefined\n    const receive = await createnewActions(mockActions,actionsNew, send)\n    const callRec = mockActions.getCreate()\n    expect(callRec.length).toEqual(1)\n});\n\ntest('update idMemberCreator and memberCreator', async() => {\n    const send = {\n        id: \"123a\",\n        idMemberCreator: \"bb22\",\n        memberCreator: {\n          id: \"bb22\",\n          avatarHash: \"a1\",\n          fullName: \"Brian Cervino\",\n          initials: \"BC\",\n          username: \"brian\"\n        },\n        data: {\n            list: {\n              name: \"Done\",\n              id: \"58dba95aa3fca404ad62476c\"\n            },\n            board: {\n              shortLink: \"d2EnEWSY\",\n              name: \"Best Test Board!\",\n              id: \"586e8f681d4fe9b06a928307\"\n            },\n            card: {\n              shortLink: \"HKaaH2Pk\",\n              idShort: 94,\n              name: \"Design New System\",\n              id: \"5939a829eba57d109331a289\",\n              pos: 229375\n            },\n            old: {\n              pos: 163839.5\n            }\n          },\n        type: \"updateCard\",\n        date: \"2017-06-08T14:40:27.915Z\",\n        dateString: \"2017-06-08-4\"\n    }\n    const receive = await createnewActions(mockActions,actions, send)\n    const callRec = mockActions.getUpdate()\n    expect(callRec[0]).toEqual(send)\n})\n\ntest('update data', async() => {\n    const send = {\n        id: \"123a\",\n        idMemberCreator: \"aa11\",\n        memberCreator: {\n          id: \"aa11\",\n          avatarHash: \"a1\",\n          fullName: \"Brian Cervino\",\n          initials: \"BC\",\n          username: \"brian\"\n        },\n        data: {\n            listAfter: {\n              name: \"Done\",\n              id: \"58dba95aa3fca404ad62476c\"\n            },\n            listBefore: {\n              name: \"Doing\",\n              id: \"58d4144e4ec5c792a898d4b4\"\n            },\n            board: {\n              shortLink: \"d2EnEWSY\",\n              name: \"Best Test Board!\",\n              id: \"586e8f681d4fe9b06a928307\"\n            },\n            card: {\n              shortLink: \"HKaaH2Pk\",\n              idShort: 94,\n              name: \"Design New System\",\n              id: \"5939a829eba57d109331a289\",\n              idList: \"58dba95aa3fca404ad62476c\"\n            },\n            old: {\n              idList: \"58d4144e4ec5c792a898d4b4\"\n            }\n          },\n        type: \"updateCard\",\n        date: \"2017-06-08T14:40:27.915Z\",\n        dateString: \"2017-06-08-4\"\n    }\n    const receive = await createnewActions(mockActions,actions, send)\n    const callRec = mockActions.getUpdate()\n    expect(callRec[0]).toEqual(send)\n})\n\ntest('update type', async() => {\n    const send = {\n        id: \"123a\",\n        idMemberCreator: \"aa11\",\n        memberCreator: {\n          id: \"aa11\",\n          avatarHash: \"a1\",\n          fullName: \"Brian Cervino\",\n          initials: \"BC\",\n          username: \"brian\"\n        },\n        data: {\n            list: {\n              name: \"Done\",\n              id: \"58dba95aa3fca404ad62476c\"\n            },\n            board: {\n              shortLink: \"d2EnEWSY\",\n              name: \"Best Test Board!\",\n              id: \"586e8f681d4fe9b06a928307\"\n            },\n            card: {\n              shortLink: \"HKaaH2Pk\",\n              idShort: 94,\n              name: \"Design New System\",\n              id: \"5939a829eba57d109331a289\",\n              pos: 229375\n            },\n            old: {\n              pos: 163839.5\n            }\n          },\n        type: \"createCard\",\n        date: \"2017-06-08T14:40:27.915Z\",\n        dateString: \"2017-06-08-4\"\n    }\n    const receive = await createnewActions(mockActions,actions, send)\n    const callRec = mockActions.getUpdate()\n    expect(callRec[0]).toEqual(send)\n})\n\ntest('update date', async() => {\n    const send = {\n        id: \"123a\",\n        idMemberCreator: \"aa11\",\n        memberCreator: {\n          id: \"aa11\",\n          avatarHash: \"a1\",\n          fullName: \"Brian Cervino\",\n          initials: \"BC\",\n          username: \"brian\"\n        },\n        data: {\n            list: {\n              name: \"Done\",\n              id: \"58dba95aa3fca404ad62476c\"\n            },\n            board: {\n              shortLink: \"d2EnEWSY\",\n              name: \"Best Test Board!\",\n              id: \"586e8f681d4fe9b06a928307\"\n            },\n            card: {\n              shortLink: \"HKaaH2Pk\",\n              idShort: 94,\n              name: \"Design New System\",\n              id: \"5939a829eba57d109331a289\",\n              pos: 229375\n            },\n            old: {\n              pos: 163839.5\n            }\n          },\n        type: \"updateCard\",\n        date: \"2017-06-07T14:40:27.915Z\",\n        dateString: \"2017-06-07-3\"\n    }\n    const receive = await createnewActions(mockActions,actions, send)\n    const callRec = mockActions.getUpdate()\n    expect(callRec[0]).toEqual(send)\n})\n\ntest('update all', async() => {\n    const send = {\n        id: \"123a\",\n        idMemberCreator: \"bb22\",\n        memberCreator: {\n          id: \"bb22\",\n          avatarHash: \"a1\",\n          fullName: \"Brian Cervino\",\n          initials: \"BC\",\n          username: \"brian\"\n        },\n        data: {\n            listAfter: {\n              name: \"Done\",\n              id: \"58dba95aa3fca404ad62476c\"\n            },\n            listBefore: {\n              name: \"Doing\",\n              id: \"58d4144e4ec5c792a898d4b4\"\n            },\n            board: {\n              shortLink: \"d2EnEWSY\",\n              name: \"Best Test Board!\",\n              id: \"586e8f681d4fe9b06a928307\"\n            },\n            card: {\n              shortLink: \"HKaaH2Pk\",\n              idShort: 94,\n              name: \"Design New System\",\n              id: \"5939a829eba57d109331a289\",\n              idList: \"58dba95aa3fca404ad62476c\"\n            },\n            old: {\n              idList: \"58d4144e4ec5c792a898d4b4\"\n            }\n          },\n        type: \"addCard\",\n        date: \"2017-06-07T14:40:27.915Z\",\n        dateString: \"2017-06-07-3\"\n    }\n    const receive = await createnewActions(mockActions,actions, send)\n    const callRec = mockActions.getUpdate()\n    expect(callRec[0]).toEqual(send)\n})\n\ntest('have actions already', async() => {\n    const send = {\n        id: \"123a\",\n        idMemberCreator: \"aa11\",\n        memberCreator: {\n          id: \"aa11\",\n          avatarHash: \"a1\",\n          fullName: \"Brian Cervino\",\n          initials: \"BC\",\n          username: \"brian\"\n        },\n        data: {\n            list: {\n              name: \"Done\",\n              id: \"58dba95aa3fca404ad62476c\"\n            },\n            board: {\n              shortLink: \"d2EnEWSY\",\n              name: \"Best Test Board!\",\n              id: \"586e8f681d4fe9b06a928307\"\n            },\n            card: {\n              shortLink: \"HKaaH2Pk\",\n              idShort: 94,\n              name: \"Design New System\",\n              id: \"5939a829eba57d109331a289\",\n              pos: 229375\n            },\n            old: {\n              pos: 163839.5\n            }\n          },\n        type: \"updateCard\",\n        date: \"2017-06-08T14:40:27.915Z\",\n        dateString: \"2017-06-08-4\"\n    }\n    const rec = await createnewActions(mockActions,actions, send)\n    expect(rec).toBe(false)\n})\n\n"]}