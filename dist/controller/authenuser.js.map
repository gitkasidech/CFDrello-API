{"version":3,"sources":["../../src/controller/authenuser.js"],"names":["AuthenUser","require","model","setRoute","app","post","req","res","next","body","token","idUser","username","status","send","users","findOne","user","create","fullname","email","newuser","console","log"],"mappings":";;;;;;;;;;;;;;;AAAA;;;;;;AACA,IAAMA,aAAaC,QAAQ,UAAR,EAAoBC,KAApB,CAA0B,YAA1B,CAAnB;;AAEO,IAAMC;AAAA,0EAAW,kBAAOC,GAAP;AAAA;AAAA;AAAA;AAAA;AACpBA,4BAAIC,IAAJ,CAAS,aAAT;AAAA,mGAAuB,iBAAOC,GAAP,EAAYC,GAAZ,EAAiBC,IAAjB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,sDAGf,CAACF,IAAIG,IAAJ,CAASC,KAAV,IAAiB,CAACJ,IAAIG,IAAJ,CAASE,MAA3B,IAAmC,CAACL,IAAIG,IAAJ,CAASG,QAH9B;AAAA;AAAA;AAAA;;AAIfL,oDAAIM,MAAJ,CAAW,GAAX,EAAgBC,IAAhB,CAAqB,kBAArB;AAJe;AAAA;;AAAA;AAOTC,qDAPS,GAOD,IAAIf,UAAJ,CAAeM,IAAIG,IAAnB,CAPC;AAAA;AAAA,uDAQIT,WAAWgB,OAAX,CAAmB,EAACL,QAAQL,IAAIG,IAAJ,CAASE,MAAlB,EAAnB,CARJ;;AAAA;AAQTM,oDARS;;AAAA,oDASXA,IATW;AAAA;AAAA;AAAA;;AAAA;AAAA,uDAUWjB,WAAWkB,MAAX,CAAkB;AACxCP,4DAAQL,IAAIG,IAAJ,CAASE,MADuB;AAExCC,8DAAUN,IAAIG,IAAJ,CAASG,QAFqB;AAGxCO,8DAAUb,IAAIG,IAAJ,CAASU,QAHqB;AAIxCT,2DAAOJ,IAAIG,IAAJ,CAASC,KAJwB;AAKxCU,2DAAOd,IAAIG,IAAJ,CAASW;AALwB,iDAAlB,CAVX;;AAAA;AAULC,uDAVK;;AAiBf;AACAC,wDAAQC,GAAR,CAAY,cAAZ;AACAhB,oDAAIO,IAAJ,CAAS,4BAAT;AAnBe;AAAA;;AAAA;AAsBXQ,wDAAQC,GAAR,CAAY,uBAAZ;AACAhB,oDAAIO,IAAJ,CAAS,oBAAT;;AAvBW;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,6BAAvB;;AAAA;AAAA;AAAA;AAAA;;AADoB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KAAX;;AAAA;AAAA;AAAA;AAAA,GAAN","file":"authenuser.js","sourcesContent":["import UserModel from '../models/authenuser'\r\nconst AuthenUser = require('mongoose').model('AuthenUser');\r\n\r\nexport const setRoute = async (app) => {\r\n    app.post('/authenuser',async (req, res, next) => {\r\n        // const json = req.body\r\n        // const {idUser, username, fullname, token, email} = json;\r\n        if (!req.body.token||!req.body.idUser||!req.body.username) {\r\n            res.status(500).send(\"format should be\")\r\n        }\r\n        else{\r\n            const users = new AuthenUser(req.body); \r\n            const user = await AuthenUser.findOne({idUser: req.body.idUser});\r\n            if(!user){\r\n                const newuser = await AuthenUser.create({\r\n                idUser: req.body.idUser,\r\n                username: req.body.username,\r\n                fullname: req.body.fullname,\r\n                token: req.body.token,\r\n                email: req.body.email\r\n            });\r\n            //res.json(users);\r\n            console.log(\"add complete\");\r\n            res.send('<h1>add New dashboard</h1>');\r\n            }\r\n            else{\r\n                console.log(\"have a user already!!\");\r\n                res.send('<h1>dashboard</h1>');\r\n            }\r\n        }\r\n        \r\n    });\r\n}\r\n\r\n"]}