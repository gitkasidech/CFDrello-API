{"version":3,"sources":["../../src/controller/authenuser.js"],"names":["setRoute","app","post","havedata","req","res","next","body","token","idUser","username","status","send","creatnewUser","callcreate","users","findOne","user","create","fullname","email","newuser","console","log"],"mappings":";;;;;;;;;;;;;;;AAAA;;;;AAAkD;;AAE3C,IAAMA;AAAA,0EAAW,iBAAOC,GAAP;AAAA;AAAA;AAAA;AAAA;AACpBA,4BAAIC,IAAJ,CAAS,aAAT,EAAwBC,QAAxB;;AADoB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KAAX;;AAAA;AAAA;AAAA;AAAA,GAAN;AAKA,IAAMA;AAAA,2EAAW,kBAAOC,GAAP,EAAYC,GAAZ,EAAiBC,IAAjB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,8BAGhB,CAACF,IAAIG,IAAJ,CAASC,KAAV,IAAmB,CAACJ,IAAIG,IAAJ,CAASE,MAA7B,IAAuC,CAACL,IAAIG,IAAJ,CAASG,QAHjC;AAAA;AAAA;AAAA;;AAAA,0DAITL,IAAIM,MAAJ,CAAW,GAAX,EAAgBC,IAAhB,CAAqB,kBAArB,CAJS;;AAAA;AAAA;AAAA,+BAMKC,aAAaT,IAAIG,IAAjB,CANL;;AAAA;AAMdO,kCANc;;AAOpB,4BAAGA,UAAH,EAAc;AACVT,gCAAIO,IAAJ,CAAS,4BAAT;AACH,yBAFD,MAGI;AACAP,gCAAIO,IAAJ,CAAS,oBAAT;AACH;;AAZmB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KAAX;;AAAA;AAAA;AAAA;AAAA,GAAN;AAeA,IAAMC;AAAA,2EAAe,kBAAON,IAAP;AAAA;AAAA;AAAA;AAAA;AAAA;AAClBQ,6BADkB,GACV,2BAAeR,IAAf,CADU;AAAA;AAAA,+BAEL,uBAAWS,OAAX,CAAmB,EAAEP,QAAQF,KAAKE,MAAf,EAAnB,CAFK;;AAAA;AAElBQ,4BAFkB;;AAAA,4BAGnBA,IAHmB;AAAA;AAAA;AAAA;;AAAA;AAAA,+BAIE,uBAAWC,MAAX,CAAkB;AACpCT,oCAAQF,KAAKE,MADuB;AAEpCC,sCAAUH,KAAKG,QAFqB;AAGpCS,sCAAUZ,KAAKY,QAHqB;AAIpCX,mCAAOD,KAAKC,KAJwB;AAKpCY,mCAAOb,KAAKa;AALwB,yBAAlB,CAJF;;AAAA;AAIdC,+BAJc;;AAWpB;AACAC,gCAAQC,GAAR,CAAY,cAAZ;AACA;AAboB,0DAcb,IAda;;AAAA;AAiBpBD,gCAAQC,GAAR,CAAY,uBAAZ;AACA;AAlBoB,0DAmBb,KAnBa;;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KAAf;;AAAA;AAAA;AAAA;AAAA,GAAN;;AAuBP;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA","file":"authenuser.js","sourcesContent":["import { AuthenUser } from '../models/authenuser' //as rename\r\n\r\nexport const setRoute = async (app) => {\r\n    app.post('/authenuser', havedata);\r\n\r\n\r\n}\r\nexport const havedata = async (req, res, next) => {\r\n    // const json = req.body\r\n    // const {idUser, username, fullname, token, email} = json;\r\n    if (!req.body.token || !req.body.idUser || !req.body.username) {\r\n        return res.status(500).send(\"format should be\")\r\n    }\r\n    const callcreate = await creatnewUser(req.body);\r\n    if(callcreate){\r\n        res.send('<h1>add New dashboard</h1>');\r\n    }\r\n    else{\r\n        res.send('<h1>dashboard</h1>');\r\n    }\r\n\r\n}\r\nexport const creatnewUser = async (body) => {\r\n    const users = new AuthenUser(body);\r\n    const user = await AuthenUser.findOne({ idUser: body.idUser });\r\n    if (!user) {\r\n        const newuser = await AuthenUser.create({\r\n            idUser: body.idUser,\r\n            username: body.username,\r\n            fullname: body.fullname,\r\n            token: body.token,\r\n            email: body.email\r\n        });\r\n        //res.json(users);\r\n        console.log(\"add complete\");\r\n        // res.send('<h1>add New dashboard</h1>');\r\n        return true\r\n    }\r\n    else {\r\n        console.log(\"have a user already!!\");\r\n        // res.send('<h1>dashboard</h1>');\r\n        return false\r\n    }\r\n}\r\n\r\n// export const authenuserController = async (req, res, next) => {\r\n//         // const json = req.body\r\n//         // const {idUser, username, fullname, token, email} = json;\r\n//         if (!req.body.token||!req.body.idUser||!req.body.username) {\r\n//             res.status(500).send(\"format should be\")\r\n//         }\r\n//         else{\r\n//             const users = new AuthenUser(req.body); \r\n//             const user = await AuthenUser.findOne({idUser: req.body.idUser});\r\n//             if(!user){\r\n//                 const newuser = await AuthenUser.create({\r\n//                 idUser: req.body.idUser,\r\n//                 username: req.body.username,\r\n//                 fullname: req.body.fullname,\r\n//                 token: req.body.token,\r\n//                 email: req.body.email\r\n//             });\r\n//             //res.json(users);\r\n//             console.log(\"add complete\");\r\n//             res.send('<h1>add New dashboard</h1>');\r\n//             }\r\n//             else{\r\n//                 console.log(\"have a user already!!\");\r\n//                 res.send('<h1>dashboard</h1>');\r\n//             }\r\n//         }\r\n\r\n// }\r\n\r\n"]}