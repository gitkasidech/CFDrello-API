{"version":3,"sources":["../../src/controller/actions.test.js"],"names":["jest","mock","mockActions","actions","id","idMemberCreator","data","list","name","board","shortLink","card","idShort","pos","old","type","date","test","send","actionsNew","undefined","receive","callRec","getCreate","expect","length","toEqual","getUpdate","listAfter","listBefore","idList","rec","toBe"],"mappings":"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","file":"actions.test.js","sourcesContent":["jest.mock('../models', () => { })\r\nimport mongoose from 'mongoose'\r\nimport MockActions from 'actions'\r\nimport { createnewActions } from './actions'\r\n\r\nconst mockActions = new MockActions()\r\nconst actions = {\r\n    id: \"123a\",\r\n    idMemberCreator: \"aa11\",\r\n    data: {\r\n        list: {\r\n          name: \"Done\",\r\n          id: \"58dba95aa3fca404ad62476c\"\r\n        },\r\n        board: {\r\n          shortLink: \"d2EnEWSY\",\r\n          name: \"Best Test Board!\",\r\n          id: \"586e8f681d4fe9b06a928307\"\r\n        },\r\n        card: {\r\n          shortLink: \"HKaaH2Pk\",\r\n          idShort: 94,\r\n          name: \"Design New System\",\r\n          id: \"5939a829eba57d109331a289\",\r\n          pos: 229375\r\n        },\r\n        old: {\r\n          pos: 163839.5\r\n        }\r\n      },\r\n    type: \"updateCard\",\r\n    date: \"2017-06-08T19:40:27.915Z\"\r\n}\r\n\r\ntest('new actions', async () => {\r\n    const send = {\r\n        id: \"123a\",\r\n        idMemberCreator: \"aa11\",\r\n        data: {\r\n            list: {\r\n              name: \"Done\",\r\n              id: \"58dba95aa3fca404ad62476c\"\r\n            },\r\n            board: {\r\n              shortLink: \"d2EnEWSY\",\r\n              name: \"Best Test Board!\",\r\n              id: \"586e8f681d4fe9b06a928307\"\r\n            },\r\n            card: {\r\n              shortLink: \"HKaaH2Pk\",\r\n              idShort: 94,\r\n              name: \"Design New System\",\r\n              id: \"5939a829eba57d109331a289\",\r\n              pos: 229375\r\n            },\r\n            old: {\r\n              pos: 163839.5\r\n            }\r\n          },\r\n        type: \"updateCard\",\r\n        date: \"2017-06-08T19:40:27.915Z\"\r\n    }\r\n    const actionsNew = undefined\r\n    const receive = await createnewActions(mockActions,actionsNew, send)\r\n    const callRec = mockActions.getCreate()\r\n    expect(callRec.length).toEqual(1)\r\n});\r\n\r\ntest('update idMemberCreator', async() => {\r\n    const send = {\r\n        id: \"123a\",\r\n        idMemberCreator: \"bb22\",\r\n        data: {\r\n            list: {\r\n              name: \"Done\",\r\n              id: \"58dba95aa3fca404ad62476c\"\r\n            },\r\n            board: {\r\n              shortLink: \"d2EnEWSY\",\r\n              name: \"Best Test Board!\",\r\n              id: \"586e8f681d4fe9b06a928307\"\r\n            },\r\n            card: {\r\n              shortLink: \"HKaaH2Pk\",\r\n              idShort: 94,\r\n              name: \"Design New System\",\r\n              id: \"5939a829eba57d109331a289\",\r\n              pos: 229375\r\n            },\r\n            old: {\r\n              pos: 163839.5\r\n            }\r\n          },\r\n        type: \"updateCard\",\r\n        date: \"2017-06-08T19:40:27.915Z\"\r\n    }\r\n    const receive = await createnewActions(mockActions,actions, send)\r\n    const callRec = mockActions.getUpdate()\r\n    expect(callRec[0]).toEqual(send)\r\n})\r\n\r\ntest('update data', async() => {\r\n    const send = {\r\n        id: \"123a\",\r\n        idMemberCreator: \"aa11\",\r\n        data: {\r\n            listAfter: {\r\n              name: \"Done\",\r\n              id: \"58dba95aa3fca404ad62476c\"\r\n            },\r\n            listBefore: {\r\n              name: \"Doing\",\r\n              id: \"58d4144e4ec5c792a898d4b4\"\r\n            },\r\n            board: {\r\n              shortLink: \"d2EnEWSY\",\r\n              name: \"Best Test Board!\",\r\n              id: \"586e8f681d4fe9b06a928307\"\r\n            },\r\n            card: {\r\n              shortLink: \"HKaaH2Pk\",\r\n              idShort: 94,\r\n              name: \"Design New System\",\r\n              id: \"5939a829eba57d109331a289\",\r\n              idList: \"58dba95aa3fca404ad62476c\"\r\n            },\r\n            old: {\r\n              idList: \"58d4144e4ec5c792a898d4b4\"\r\n            }\r\n          },\r\n        type: \"updateCard\",\r\n        date: \"2017-06-08T19:40:27.915Z\"\r\n    }\r\n    const receive = await createnewActions(mockActions,actions, send)\r\n    const callRec = mockActions.getUpdate()\r\n    expect(callRec[0]).toEqual(send)\r\n})\r\n\r\ntest('update type', async() => {\r\n    const send = {\r\n        id: \"123a\",\r\n        idMemberCreator: \"aa11\",\r\n        data: {\r\n            list: {\r\n              name: \"Done\",\r\n              id: \"58dba95aa3fca404ad62476c\"\r\n            },\r\n            board: {\r\n              shortLink: \"d2EnEWSY\",\r\n              name: \"Best Test Board!\",\r\n              id: \"586e8f681d4fe9b06a928307\"\r\n            },\r\n            card: {\r\n              shortLink: \"HKaaH2Pk\",\r\n              idShort: 94,\r\n              name: \"Design New System\",\r\n              id: \"5939a829eba57d109331a289\",\r\n              pos: 229375\r\n            },\r\n            old: {\r\n              pos: 163839.5\r\n            }\r\n          },\r\n        type: \"createCard\",\r\n        date: \"2017-06-08T19:40:27.915Z\"\r\n    }\r\n    const receive = await createnewActions(mockActions,actions, send)\r\n    const callRec = mockActions.getUpdate()\r\n    expect(callRec[0]).toEqual(send)\r\n})\r\n\r\ntest('update date', async() => {\r\n    const send = {\r\n        id: \"123a\",\r\n        idMemberCreator: \"aa11\",\r\n        data: {\r\n            list: {\r\n              name: \"Done\",\r\n              id: \"58dba95aa3fca404ad62476c\"\r\n            },\r\n            board: {\r\n              shortLink: \"d2EnEWSY\",\r\n              name: \"Best Test Board!\",\r\n              id: \"586e8f681d4fe9b06a928307\"\r\n            },\r\n            card: {\r\n              shortLink: \"HKaaH2Pk\",\r\n              idShort: 94,\r\n              name: \"Design New System\",\r\n              id: \"5939a829eba57d109331a289\",\r\n              pos: 229375\r\n            },\r\n            old: {\r\n              pos: 163839.5\r\n            }\r\n          },\r\n        type: \"updateCard\",\r\n        date: \"2017-07-30T19:40:27.915Z\"\r\n    }\r\n    const receive = await createnewActions(mockActions,actions, send)\r\n    const callRec = mockActions.getUpdate()\r\n    expect(callRec[0]).toEqual(send)\r\n})\r\n\r\ntest('update all', async() => {\r\n    const send = {\r\n        id: \"123a\",\r\n        idMemberCreator: \"bb22\",\r\n        data: {\r\n            listAfter: {\r\n              name: \"Done\",\r\n              id: \"58dba95aa3fca404ad62476c\"\r\n            },\r\n            listBefore: {\r\n              name: \"Doing\",\r\n              id: \"58d4144e4ec5c792a898d4b4\"\r\n            },\r\n            board: {\r\n              shortLink: \"d2EnEWSY\",\r\n              name: \"Best Test Board!\",\r\n              id: \"586e8f681d4fe9b06a928307\"\r\n            },\r\n            card: {\r\n              shortLink: \"HKaaH2Pk\",\r\n              idShort: 94,\r\n              name: \"Design New System\",\r\n              id: \"5939a829eba57d109331a289\",\r\n              idList: \"58dba95aa3fca404ad62476c\"\r\n            },\r\n            old: {\r\n              idList: \"58d4144e4ec5c792a898d4b4\"\r\n            }\r\n          },\r\n        type: \"addCard\",\r\n        date: \"2017-08-30T19:40:27.915Z\"\r\n    }\r\n    const receive = await createnewActions(mockActions,actions, send)\r\n    const callRec = mockActions.getUpdate()\r\n    expect(callRec[0]).toEqual(send)\r\n})\r\n\r\ntest('have actions already', async() => {\r\n    const send = {\r\n        id: \"123a\",\r\n        idMemberCreator: \"aa11\",\r\n        data: {\r\n            list: {\r\n              name: \"Done\",\r\n              id: \"58dba95aa3fca404ad62476c\"\r\n            },\r\n            board: {\r\n              shortLink: \"d2EnEWSY\",\r\n              name: \"Best Test Board!\",\r\n              id: \"586e8f681d4fe9b06a928307\"\r\n            },\r\n            card: {\r\n              shortLink: \"HKaaH2Pk\",\r\n              idShort: 94,\r\n              name: \"Design New System\",\r\n              id: \"5939a829eba57d109331a289\",\r\n              pos: 229375\r\n            },\r\n            old: {\r\n              pos: 163839.5\r\n            }\r\n          },\r\n        type: \"updateCard\",\r\n        date: \"2017-06-08T19:40:27.915Z\"\r\n    }\r\n    const rec = await createnewActions(mockActions,actions, send)\r\n    expect(rec).toBe(false)\r\n})\r\n\r\n"]}